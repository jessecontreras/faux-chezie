{"ast":null,"code":"import _asyncToGenerator from \"/Users/jesse/Documents/faux-chezie/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { ModalComponent } from '../modal/modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/_services/account.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"../_services/erg.service\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/icon\";\n\nfunction HomeComponent_ng_container_20_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 14);\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementStart(3, \"mat-card-content\");\n    i0.ɵɵelementStart(4, \"p\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"span\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_20_ng_container_1_Template_span_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const erg_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.deleteErg(erg_r2._id);\n    });\n    i0.ɵɵtext(7, \"&nbsp x\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 18);\n    i0.ɵɵelementStart(9, \"mat-icon\", 19);\n    i0.ɵɵtext(10, \" group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 20);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const erg_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", erg_r2.name, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(erg_r2.numberOfMembers);\n  }\n}\n\nfunction HomeComponent_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, HomeComponent_ng_container_20_ng_container_1_Template, 13, 2, \"ng-container\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.ergs);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(accountService, matDialog, ergService) {\n      this.accountService = accountService;\n      this.matDialog = matDialog;\n      this.ergService = ergService; //ergs\n\n      this.ergs = [];\n      this.ergMemberCount = 0;\n      this.user = this.accountService.userValue;\n    }\n    /**\n     * Subscribe to erg subject and then call to get all ergs.\n     */\n\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.ergDataSetup();\n      })();\n    }\n    /**\n     * Subscribes to data service, will assign class ergs from ergService subject.\n     * Assigns ergMember count based on the accumulation of numberOfMembers of all ERGs.\n     *\n     * @returns {Promise<void>} Returns void\n     */\n\n\n    ergDataSetup() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          _this2.ergService.ergSubject$.subscribe(ergs => {\n            if (ergs != null) {\n              _this2.ergs = ergs; //Reset memberCount, otherwise the value (state) is saved and re-added in the addition of another ERG.\n\n              let memberCount = 0;\n\n              _this2.ergs.forEach(erg => {\n                memberCount += erg.numberOfMembers;\n              });\n\n              _this2.ergMemberCount = memberCount;\n            }\n          });\n\n          return;\n        } catch (err) {\n          console.log(err);\n          throw err;\n        }\n      })();\n    }\n    /**\n     * Calculates the total amount of erg members.\n     * @returns {Promise<number>} total number of erg members.\n     */\n\n\n    calcErgMemberCount() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          let memberCount = 0;\n\n          if (_this3.ergs) {\n            _this3.ergs.forEach(erg => {\n              memberCount += erg.numberOfMembers;\n            }); //Assign this to our class variable...we technically don't need a return, we do bc we need to return a Promise<number> but we really don't.\n\n\n            _this3.ergMemberCount = memberCount;\n          }\n\n          return memberCount;\n        } catch (err) {\n          console.log(err);\n          throw err;\n        }\n      })();\n    }\n\n    deleteErg(ergId) {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          //this actually can't happen bc you can't click on something that doesn't exists, but just in case.\n          if (typeof ergId == undefined) {\n            return;\n          }\n\n          _this4.ergService.deleteErg();\n        } catch (err) {\n          console.log(err);\n          throw err;\n        }\n      })();\n    }\n    /**\n     * Opens dialog box to add erg.\n     */\n\n\n    openAddErgDialog() {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          const dialogConfig = new MatDialogConfig();\n          dialogConfig.id = 'modal-component';\n          dialogConfig.height = '500px';\n          dialogConfig.width = '700px'; // https://material.angular.io/components/dialog/overview\n\n          _this5.matDialog.open(ModalComponent, dialogConfig);\n        } catch (err) {\n          console.log(err);\n          throw err;\n        }\n      })();\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.ErgService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 21,\n    vars: 4,\n    consts: [[1, \"page-container\"], [1, \"home-landing\"], [1, \"welcome-message\"], [1, \"kpi-1\"], [1, \"kpi-1-title\"], [1, \"kpi-1-metric\"], [1, \"kpi-2\"], [1, \"kpi-2-title\"], [1, \"kpi-2-metric\"], [\"mat-button\", \"\", 1, \"add-erg-button\", 3, \"click\"], [1, \"ergs-header\"], [1, \"ergs-container\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"erg-card\"], [\"mat-card-image\", \"\", \"src\", \"../../assets/images/chezie-card.jpeg\", \"alt\", \"Chezie card logo\"], [1, \"erg-name-card\"], [1, \"delete-erg\", 3, \"click\"], [1, \"erg-member-info-card\"], [1, \"erg-icon-card\"], [1, \"erg-member-count-card\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵtext(7, \"# OF ERGs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵtext(12, \"ERG MEMBERS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_15_listener() {\n          return ctx.openAddErgDialog();\n        });\n        i0.ɵɵtext(16, \" Add ERG \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 10);\n        i0.ɵɵtext(18, \"All ERGs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 11);\n        i0.ɵɵtemplate(20, HomeComponent_ng_container_20_Template, 2, 1, \"ng-container\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Welcome \", ctx.user == null ? null : ctx.user.firstName, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.ergs.length);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.ergMemberCount);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.ergs);\n      }\n    },\n    directives: [i4.MatButton, i5.NgIf, i5.NgForOf, i6.MatCard, i6.MatCardImage, i6.MatCardContent, i7.MatIcon],\n    styles: [\".page-container[_ngcontent-%COMP%]{width:100vw;top:65px;position:relative}.home-landing[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(11,1fr);grid-template-rows:repeat(11,1fr);height:70vh;background-color:#f9f9fa}.welcome-message[_ngcontent-%COMP%]{grid-area:2/1/4/12}.kpi-1-title[_ngcontent-%COMP%], .kpi-2-title[_ngcontent-%COMP%], .kpi-3-title[_ngcontent-%COMP%], .kpi-1-metric[_ngcontent-%COMP%], .kpi-2-metric[_ngcontent-%COMP%], .kpi-3-metric[_ngcontent-%COMP%]{color:#000;display:flex;flex-flow:row wrap;justify-content:center;padding:25px}.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%]{grid-column:1/12;min-height:125px;min-width:250px;border-radius:10px;background-color:#fff;width:95%;height:85%;box-shadow:#ccc3 0 1px 2px}.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%], .add-erg-button[_ngcontent-%COMP%], .ergs-header[_ngcontent-%COMP%], .welcome-message[_ngcontent-%COMP%]{place-self:center}.kpi-1[_ngcontent-%COMP%]{grid-row:4/6}.kpi-2[_ngcontent-%COMP%]{grid-row:7/9}.add-erg-button[_ngcontent-%COMP%]{grid-area:9/1/11/12;background-color:#3248f3;color:#fff;width:40%;min-width:40px}.ergs-header[_ngcontent-%COMP%]{grid-area:11/1/12/12}.ergs-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;justify-content:center;min-height:30vh;height:100%;width:100%;background-color:#f9f9fa}.erg-card[_ngcontent-%COMP%]{height:275px;width:150px;display:inline-block;margin:25px 65px}.erg-card[_ngcontent-%COMP%]   .erg-name-card[_ngcontent-%COMP%]{font-size:16px}.erg-card[_ngcontent-%COMP%]   .erg-member-info-card[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}@media (min-width: 576px){.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%]{width:75%}}@media (min-width: 992px){.welcome-message[_ngcontent-%COMP%]{grid-area:1/1/4/6}.page-container[_ngcontent-%COMP%]{width:calc(100vw - 90px);left:90px;position:relative;top:0}.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%]{grid-row:4/7;min-width:300px;height:100%}.kpi-1-title[_ngcontent-%COMP%], .kpi-2-title[_ngcontent-%COMP%], .kpi-3-title[_ngcontent-%COMP%], .kpi-1-metric[_ngcontent-%COMP%], .kpi-2-metric[_ngcontent-%COMP%], .kpi-3-metric[_ngcontent-%COMP%]{justify-content:flex-start}.kpi-1[_ngcontent-%COMP%]{grid-column:2/5}.kpi-2[_ngcontent-%COMP%]{grid-column:5/8}.add-erg-button[_ngcontent-%COMP%]{grid-area:9/8/10/12;place-self:unset;align-self:center}.ergs-header[_ngcontent-%COMP%]{grid-area:10/2/11/4}}\"]\n  });\n  return HomeComponent;\n})();","map":{"version":3,"sources":["/Users/jesse/Documents/faux-chezie/frontend/src/app/home/home.component.ts"],"names":["MatDialogConfig","ModalComponent","i0","i1","i2","i3","i4","i5","i6","i7","HomeComponent_ng_container_20_ng_container_1_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementContainerStart","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵlistener","HomeComponent_ng_container_20_ng_container_1_Template_span_click_6_listener","restoredCtx","ɵɵrestoreView","erg_r2","$implicit","ctx_r3","ɵɵnextContext","deleteErg","_id","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","name","ɵɵtextInterpolate","numberOfMembers","HomeComponent_ng_container_20_Template","ɵɵtemplate","ctx_r0","ɵɵproperty","ergs","HomeComponent","constructor","accountService","matDialog","ergService","ergMemberCount","user","userValue","ngOnInit","ergDataSetup","ergSubject$","subscribe","memberCount","forEach","erg","err","console","log","calcErgMemberCount","ergId","undefined","openAddErgDialog","dialogConfig","id","height","width","open","ɵfac","HomeComponent_Factory","t","ɵɵdirectiveInject","AccountService","MatDialog","ErgService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","HomeComponent_Template","HomeComponent_Template_button_click_15_listener","firstName","length","directives","MatButton","NgIf","NgForOf","MatCard","MatCardImage","MatCardContent","MatIcon","styles"],"mappings":"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","sourcesContent":["import { MatDialogConfig } from '@angular/material/dialog';\nimport { ModalComponent } from '../modal/modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/_services/account.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"../_services/erg.service\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/icon\";\nfunction HomeComponent_ng_container_20_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 14);\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementStart(3, \"mat-card-content\");\n    i0.ɵɵelementStart(4, \"p\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"span\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_20_ng_container_1_Template_span_click_6_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const erg_r2 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(2); return ctx_r3.deleteErg(erg_r2._id); });\n    i0.ɵɵtext(7, \"&nbsp x\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 18);\n    i0.ɵɵelementStart(9, \"mat-icon\", 19);\n    i0.ɵɵtext(10, \" group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 20);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const erg_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", erg_r2.name, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(erg_r2.numberOfMembers);\n} }\nfunction HomeComponent_ng_container_20_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, HomeComponent_ng_container_20_ng_container_1_Template, 13, 2, \"ng-container\", 13);\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.ergs);\n} }\nexport class HomeComponent {\n    constructor(accountService, matDialog, ergService) {\n        this.accountService = accountService;\n        this.matDialog = matDialog;\n        this.ergService = ergService;\n        //ergs\n        this.ergs = [];\n        this.ergMemberCount = 0;\n        this.user = this.accountService.userValue;\n    }\n    /**\n     * Subscribe to erg subject and then call to get all ergs.\n     */\n    async ngOnInit() {\n        await this.ergDataSetup();\n    }\n    /**\n     * Subscribes to data service, will assign class ergs from ergService subject.\n     * Assigns ergMember count based on the accumulation of numberOfMembers of all ERGs.\n     *\n     * @returns {Promise<void>} Returns void\n     */\n    async ergDataSetup() {\n        try {\n            this.ergService.ergSubject$.subscribe((ergs) => {\n                if (ergs != null) {\n                    this.ergs = ergs;\n                    //Reset memberCount, otherwise the value (state) is saved and re-added in the addition of another ERG.\n                    let memberCount = 0;\n                    this.ergs.forEach((erg) => {\n                        memberCount += erg.numberOfMembers;\n                    });\n                    this.ergMemberCount = memberCount;\n                }\n            });\n            return;\n        }\n        catch (err) {\n            console.log(err);\n            throw err;\n        }\n    }\n    /**\n     * Calculates the total amount of erg members.\n     * @returns {Promise<number>} total number of erg members.\n     */\n    async calcErgMemberCount() {\n        try {\n            let memberCount = 0;\n            if (this.ergs) {\n                this.ergs.forEach((erg) => {\n                    memberCount += erg.numberOfMembers;\n                });\n                //Assign this to our class variable...we technically don't need a return, we do bc we need to return a Promise<number> but we really don't.\n                this.ergMemberCount = memberCount;\n            }\n            return memberCount;\n        }\n        catch (err) {\n            console.log(err);\n            throw err;\n        }\n    }\n    async deleteErg(ergId) {\n        try {\n            //this actually can't happen bc you can't click on something that doesn't exists, but just in case.\n            if (typeof ergId == undefined) {\n                return;\n            }\n            this.ergService.deleteErg();\n        }\n        catch (err) {\n            console.log(err);\n            throw err;\n        }\n    }\n    /**\n     * Opens dialog box to add erg.\n     */\n    async openAddErgDialog() {\n        try {\n            const dialogConfig = new MatDialogConfig();\n            dialogConfig.id = 'modal-component';\n            dialogConfig.height = '500px';\n            dialogConfig.width = '700px';\n            // https://material.angular.io/components/dialog/overview\n            this.matDialog.open(ModalComponent, dialogConfig);\n        }\n        catch (err) {\n            console.log(err);\n            throw err;\n        }\n    }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) { return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.ErgService)); };\nHomeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: HomeComponent, selectors: [[\"app-home\"]], decls: 21, vars: 4, consts: [[1, \"page-container\"], [1, \"home-landing\"], [1, \"welcome-message\"], [1, \"kpi-1\"], [1, \"kpi-1-title\"], [1, \"kpi-1-metric\"], [1, \"kpi-2\"], [1, \"kpi-2-title\"], [1, \"kpi-2-metric\"], [\"mat-button\", \"\", 1, \"add-erg-button\", 3, \"click\"], [1, \"ergs-header\"], [1, \"ergs-container\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"erg-card\"], [\"mat-card-image\", \"\", \"src\", \"../../assets/images/chezie-card.jpeg\", \"alt\", \"Chezie card logo\"], [1, \"erg-name-card\"], [1, \"delete-erg\", 3, \"click\"], [1, \"erg-member-info-card\"], [1, \"erg-icon-card\"], [1, \"erg-member-count-card\"]], template: function HomeComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵtext(7, \"# OF ERGs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵtext(12, \"ERG MEMBERS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_15_listener() { return ctx.openAddErgDialog(); });\n        i0.ɵɵtext(16, \" Add ERG \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 10);\n        i0.ɵɵtext(18, \"All ERGs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 11);\n        i0.ɵɵtemplate(20, HomeComponent_ng_container_20_Template, 2, 1, \"ng-container\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Welcome \", ctx.user == null ? null : ctx.user.firstName, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.ergs.length);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.ergMemberCount);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.ergs);\n    } }, directives: [i4.MatButton, i5.NgIf, i5.NgForOf, i6.MatCard, i6.MatCardImage, i6.MatCardContent, i7.MatIcon], styles: [\".page-container[_ngcontent-%COMP%]{width:100vw;top:65px;position:relative}.home-landing[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(11,1fr);grid-template-rows:repeat(11,1fr);height:70vh;background-color:#f9f9fa}.welcome-message[_ngcontent-%COMP%]{grid-area:2/1/4/12}.kpi-1-title[_ngcontent-%COMP%], .kpi-2-title[_ngcontent-%COMP%], .kpi-3-title[_ngcontent-%COMP%], .kpi-1-metric[_ngcontent-%COMP%], .kpi-2-metric[_ngcontent-%COMP%], .kpi-3-metric[_ngcontent-%COMP%]{color:#000;display:flex;flex-flow:row wrap;justify-content:center;padding:25px}.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%]{grid-column:1/12;min-height:125px;min-width:250px;border-radius:10px;background-color:#fff;width:95%;height:85%;box-shadow:#ccc3 0 1px 2px}.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%], .add-erg-button[_ngcontent-%COMP%], .ergs-header[_ngcontent-%COMP%], .welcome-message[_ngcontent-%COMP%]{place-self:center}.kpi-1[_ngcontent-%COMP%]{grid-row:4/6}.kpi-2[_ngcontent-%COMP%]{grid-row:7/9}.add-erg-button[_ngcontent-%COMP%]{grid-area:9/1/11/12;background-color:#3248f3;color:#fff;width:40%;min-width:40px}.ergs-header[_ngcontent-%COMP%]{grid-area:11/1/12/12}.ergs-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;justify-content:center;min-height:30vh;height:100%;width:100%;background-color:#f9f9fa}.erg-card[_ngcontent-%COMP%]{height:275px;width:150px;display:inline-block;margin:25px 65px}.erg-card[_ngcontent-%COMP%]   .erg-name-card[_ngcontent-%COMP%]{font-size:16px}.erg-card[_ngcontent-%COMP%]   .erg-member-info-card[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}@media (min-width: 576px){.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%]{width:75%}}@media (min-width: 992px){.welcome-message[_ngcontent-%COMP%]{grid-area:1/1/4/6}.page-container[_ngcontent-%COMP%]{width:calc(100vw - 90px);left:90px;position:relative;top:0}.kpi-1[_ngcontent-%COMP%], .kpi-2[_ngcontent-%COMP%]{grid-row:4/7;min-width:300px;height:100%}.kpi-1-title[_ngcontent-%COMP%], .kpi-2-title[_ngcontent-%COMP%], .kpi-3-title[_ngcontent-%COMP%], .kpi-1-metric[_ngcontent-%COMP%], .kpi-2-metric[_ngcontent-%COMP%], .kpi-3-metric[_ngcontent-%COMP%]{justify-content:flex-start}.kpi-1[_ngcontent-%COMP%]{grid-column:2/5}.kpi-2[_ngcontent-%COMP%]{grid-column:5/8}.add-erg-button[_ngcontent-%COMP%]{grid-area:9/8/10/12;place-self:unset;align-self:center}.ergs-header[_ngcontent-%COMP%]{grid-area:10/2/11/4}}\"] });\n"]},"metadata":{},"sourceType":"module"}